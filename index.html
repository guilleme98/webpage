<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>guillermo mondragón – Homepage</title>
  <base href="./">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
   body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            line-height: 1.6;
            margin: 0;
            padding: 0;
            color: #111;
            background-color: #f8f8f8; /* Matched background color from the first example */
            font-weight: 400;
        }

        .container {
            max-width: 1200px; /* Matched container width */
            margin: 0 auto;
            padding: 1em 2em;
        }
    /* --- Header & Navigation (matched to webpage.html) --- */
    header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        padding: 1em 0;
        margin-bottom: 3em;
        flex-wrap: wrap;
    }

    header h1 {
        font-size: 1.6em;
        margin: 0;
        text-transform: lowercase;
        font-weight: 400;
        white-space: nowrap;
        color: #000;
    }

    header h1 a {
        color: inherit;
        text-decoration: none;
        display: inline-block;
        cursor: pointer;
    }

    header h1 a:hover {
        color: #888; /* Lighten the text color on hover */
    }

    nav ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-end;
        align-items: baseline;
    }

    nav li {
        margin-left: 2em;
        margin-bottom: 0.5em;
    }

    nav a {
        text-decoration: none;
        color: #333;
        font-size: 1em;
        text-transform: lowercase;
        font-weight: 400;
        transition: color 0.3s ease; /* Add transition for smooth color change */
    }

    /* This is the hover effect you requested - no underline */
    nav a:hover {
        color: #888; /* Lighten the text color */
    }

    /* --- Language Toggle Button (Aesthetic/Raw Version - No Underline) --- */
    #language-toggle {
      display: flex;
      align-items: baseline;
      cursor: pointer;
    }

    #language-toggle span {
      font-family: 'Inter', sans-serif;
      font-size: 1em;
      font-weight: 400;
      text-transform: lowercase;
      color: #ccc; /* Inactive/Separator color */
      transition: all 0.3s ease;
      padding: 0 0.2em;
    }

    #language-toggle span.lang-en, #language-toggle span.lang-es {
        cursor: pointer;
    }

    /* Active state is now just a color change, no underline */
    #language-toggle span.active {
      color: #111; /* Active color */
      font-weight: 500; /* Make it slightly bolder */
    }

    /* Make the non-active language interactive on hover */
    #language-toggle:hover span.lang-en:not(.active),
    #language-toggle:hover span.lang-es:not(.active) {
        color: #888;
    }

     /* Main Content Layout */
        .main-content {
            display: flex;
            align-items: flex-start; 
            gap: 4em; 
        }
        
        .main-content h2 {
            font-size: 2em;
            font-weight: 400;
            margin: 0 0 0.5em 0;
        }

        .text-section {
      flex: 1;
      max-width: 50%;
      padding-right: 2em;
    }
    .text-section p {
      font-size: 2em;
      line-height: 1.2;
      font-weight: 400;
    }
        .image-section {
            flex: 1;
            min-width: 0;
            margin-top: 3.2em;
        }

        .image-section img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 0;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2em 0;
            margin-top: 4em;
            font-size: 0.8em;
            color: #888;
        }
    

    /* --- Pixel Background --- */
    #pixel-canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
    }

    .pixel {
        position: absolute;
        opacity: 0;
        transform: scale(0.5);
        animation: stitchIn 1s forwards;
    }

    @keyframes stitchIn {
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

 /* Media queries for responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 1em;
            }

            header {
                flex-direction: column;
                align-items: flex-start;
                padding-bottom: 1em;
            }

            nav ul {
                margin-top: 1em;
                justify-content: flex-start;
            }

            nav li {
                margin-left: 0;
                margin-right: 1.5em;
                margin-bottom: 0.5em;
            }

            .main-content {
                flex-direction: column; 
                gap: 2em;
            }
            
            .image-section {
                margin-top: 0;
                width: 40%;
                max-width: 150px;
            }
        }
  </style>
</head>
<body>
  <div id="pixel-canvas"></div>

    <div class="container">
        <header>
            <h1><a href="index.html">guillermo mondragón</a></h1>
            <nav>
                <ul>
                    <li><a href="bio.html">bio</a></li>
                    <li><a href="research.html">research</a></li>
                    <li><a href="cv.html">cv</a></li>
                    <li><a href="contact.html">contact</a></li>
                    <li>
                        <div id="language-toggle">
                            <span class="lang-en active">en</span>
                            <span>/</span>
                            <span class="lang-es">es</span>
                        </div>
                    </li>
                </ul>
            </nav>
        </header>

    <main class="main-content">
      <section class="text-section">
        <p>I'm PhD student in Politics at NYU. My research interests are political economy, democracy, and media</p>
      </section>
      <section class="image-section">
        </section>

    </main>
  </div>

<script>
  const translations = {
    en: {
      headerTitle: 'guillermo mondragón',
      bio: 'bio',
      research: 'research',
      cv: 'cv',
      contact: 'contact',
      mainText: "I'm PhD student in Politics at NYU. My research interests are political economy, democracy and media",
    },
    es: {
      headerTitle: 'guillermo mondragón',
      bio: 'bio',
      research: 'investigación',
      cv: 'cv',
      contact: 'contacto',
      mainText: 'Soy estudiante de doctorado en Ciencia Política en NYU. Estoy interesado en economía política, democracia y media',
    }
  };

  let currentLanguage = 'en';

  const langEnSpan = document.querySelector('.lang-en');
  const langEsSpan = document.querySelector('.lang-es');

  const updateText = () => {
      langEnSpan.classList.toggle('active', currentLanguage === 'en');
      langEsSpan.classList.toggle('active', currentLanguage === 'es');

      document.querySelector('header h1 a').textContent = translations[currentLanguage].headerTitle;
      document.querySelector('nav a[href="bio.html"]').textContent = translations[currentLanguage].bio;
      document.querySelector('nav a[href="research.html"]').textContent = translations[currentLanguage].research;
      document.querySelector('nav a[href="cv.html"]').textContent = translations[currentLanguage].cv;
      document.querySelector('nav a[href="contact.html"]').textContent = translations[currentLanguage].contact;
      document.querySelector('.text-section p').textContent = translations[currentLanguage].mainText;
  }

  langEnSpan.addEventListener('click', () => {
      if (currentLanguage !== 'en') {
          currentLanguage = 'en';
          updateText();
      }
  });

  langEsSpan.addEventListener('click', () => {
      if (currentLanguage !== 'es') {
          currentLanguage = 'es';
          updateText();
      }
  });

</script>

  <script>
    const canvas = document.getElementById('pixel-canvas');
    
    const motifData = {
        cypressTree: [ "  1  ", " 111 ", "11111", "  1  ", "  1  " ],
        featherDisc: [ " 111 ", "10001", "10101", "10001", " 111 " ],
        beitDajanFlower: [ "10101", "01110", "11111", "11111", "01110", "10101" ],
        borderLine: [ "101010101" ],
        zigZag: [ "1001001", "0101010", "0011100" ]
    };

    const colors = { 1: '#B10000' };
    const rand = (min, max) => Math.random() * (max - min) + min;
    const choice = (arr) => arr[Math.floor(Math.random() * arr.length)];

    function createPixel(x, y, size, color, delay) {
        const pixel = document.createElement('div');
        pixel.className = 'pixel';
        pixel.style.left = `${x}px`;
        pixel.style.top = `${y}px`;
        pixel.style.width = `${size}px`;
        pixel.style.height = `${size}px`;
        pixel.style.backgroundColor = color;
        pixel.style.animationDelay = `${delay}s`;
        canvas.appendChild(pixel);
    }
    
    function drawMotif(motifGrid, startX, startY, pixelSize, motifColors, baseDelay) {
        let pixelCount = 0;
        const stitchDelay = 0.05;
        motifGrid.forEach((row, r) => {
            row.split('').forEach((char, c) => {
                const colorKey = parseInt(char);
                if (colorKey > 0 && motifColors[colorKey]) {
                    const x = startX + c * pixelSize;
                    const y = startY + r * pixelSize;
                    createPixel(x, y, pixelSize, motifColors[colorKey], baseDelay + pixelCount * stitchDelay);
                    pixelCount++;
                }
            });
        });
    }

    function drawTextile() {
        // require key layout elements
        if (!document.querySelector('header') || !document.querySelector('.main-content')) return;
        canvas.innerHTML = '';
        const vw = window.innerWidth;
        const vh = window.innerHeight;

        // moderate motif count to increase coverage but not overwhelm
        const numMotifs = 24; // reduced from 36 for fewer pixels
        const placedMotifAreas = [];

        // Protect textual elements so pixels never intersect readable text
        const restrictedAreas = [];
        const selectors = ['header', 'nav', '.text-section', '.image-section', 'p', 'h1', 'h2', 'h3', 'li', 'footer'];
        const pad = 10; // padding around text elements
        document.querySelectorAll(selectors.join(',')).forEach(el => {
            const r = el.getBoundingClientRect();
            if (r.width > 0 && r.height > 0) {
                restrictedAreas.push({
                    x: Math.max(0, r.left - pad),
                    y: Math.max(0, r.top - pad),
                    width: Math.min(vw, r.width + pad * 2),
                    height: Math.min(vh, r.height + pad * 2)
                });
            }
        });

        // Helper: test overlap between two rectangles
        function overlaps(a, b) {
            return a.x < b.x + b.width && a.x + a.width > b.x && a.y < b.y + b.height && a.y + a.height > b.y;
        }

        for (let i = 0; i < numMotifs; i++) {
            const motifKey = choice(Object.keys(motifData));
            const motifGrid = motifData[motifKey];

            // pixel sizes for decent coverage without huge blocks
            const pixelSize = Math.floor(rand(2, 5)); // slightly smaller max size
            const motifWidth = motifGrid[0].length * pixelSize;
            const motifHeight = motifGrid.length * pixelSize;

            let startX, startY, area, attempts = 0;
            let placed = false;
            while (!placed && attempts < 120) {
                // place fully inside viewport
                startX = Math.floor(rand(0, Math.max(0, vw - motifWidth)));
                startY = Math.floor(rand(0, Math.max(0, vh - motifHeight)));
                area = { x: startX, y: startY, width: motifWidth, height: motifHeight };

                const collidesWithPlaced = placedMotifAreas.some(a => overlaps(a, area));
                const collidesWithRestricted = restrictedAreas.some(a => overlaps(a, area));

                if (!collidesWithPlaced && !collidesWithRestricted) {
                    placedMotifAreas.push(area);
                    const baseDelay = rand(0, 1.2);
                    drawMotif(motifGrid, startX, startY, pixelSize, colors, baseDelay);
                    placed = true;
                }

                attempts++;
            }
        }
    }

    // draw initially and on resize
    setTimeout(() => {
        drawTextile();
        window.addEventListener('resize', drawTextile);
    }, 100);
  </script>
</body>
</html>
